/* Локальные стили игры + HUD */
:root{ --bg:#F6F7FB; --card:#FFFFFF; --text:#0F172A; --muted:#64748B; --line:#E5E7EB; --accent:#FF6A00; --blue:#2563EB; --shadow:0 12px 28px rgba(15,23,42,.06); }
html, body { height: 100%; margin: 0; overflow: hidden; font-family:"Involve", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text); background: var(--bg); }
.hud{ position: fixed; top: 0; bottom: 0; z-index: 1000; background: var(--card); padding: 80px 8px; width: auto; display: flex; align-items: center; justify-content: center; border-right: 1px solid var(--line); box-shadow: var(--shadow); }
.hud-left{ left: 0; border-right: 1px solid var(--line); }
.hud-right{ right: 0; border-left: 1px solid var(--line); border-right: none; transform: rotate(180deg); }
.hud-row{ display: flex; flex-direction: column; align-items: center; justify-content: space-between; width: 100%; height: 100%; padding: 20px 0; box-sizing: border-box; }
.hud-rotated{ transform: rotate(180deg); }
.hud-center{ flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 0; gap: 12px; }
.hud-right .hud-center{ transform: rotate(180deg); }
.btn{ background:#FFF; border:1px solid var(--line); padding:10px 16px; border-radius:12px; font-weight:600; cursor:pointer; transition: all .2s ease; white-space: nowrap; display:inline-flex; align-items:center; gap:8px; width:auto; height: auto; min-width:unset; flex:0 1 auto; box-sizing:border-box; font-size: clamp(14px, 2vw, 18px); }
.btn p{font-size: 28px;}
.btn:hover{ background:var(--accent); color:#FFF; box-shadow: var(--shadow); border-color: var(--accent); }
.btn.primary{ background:var(--accent); color:#FFF; border-color:var(--accent); }
.btn-ghost{ background: #FFF; color: var(--text); }
.hud .btn{ writing-mode: vertical-rl; text-orientation: mixed; padding: 10px 12px; }
.hud .btn:hover{ transform: translateY(-1px); }
.hud-row.hud-rotated .btn{ writing-mode: vertical-rl; text-orientation: mixed; transform: rotate(180deg); padding: 10px 12px; }
.hud-row.hud-rotated .btn:hover{ transform: rotate(180deg) translateY(-1px); }
.turn-label{ font-weight: 600; font-size: 28px; color: var(--text); writing-mode: vertical-rl; text-orientation: mixed; white-space: nowrap; }
.points{ font-weight: 600; font-size: 28px; color: var(--text); writing-mode: vertical-rl; text-orientation: mixed; white-space: nowrap; }
.score{ font-weight: 600; font-size: 28px; color: var(--accent); writing-mode: vertical-rl; text-orientation: mixed; white-space: nowrap; }
#board{ position: fixed; top: 0; bottom: 0; left: 90px; right: 90px; display: flex !important; flex-direction: row !important; align-items: stretch; gap: 12px; padding: 16px; box-sizing: border-box; overflow: hidden; }
.half{ flex: 1 1 0; min-width: 0; min-height: 0; overflow: hidden; position: relative; background: var(--card); border:1px solid var(--line); border-radius:20px; }
.half.lead{ box-shadow: inset 0 0 0 4px rgba(255,106,0,0.18); }
.target{ position:absolute; border-radius:50%; cursor:pointer; transition:transform .2s ease, opacity .2s ease; display:flex; align-items:center; justify-content:center; user-select:none; -webkit-tap-highlight-color: transparent; touch-action: none; }
.target.p1{ background: var(--accent); } .target.p2{ background: var(--blue); }
.target:active{ transform: scale(0.88); }
.bomb{ position:absolute; cursor:pointer; transition:transform .2s ease, opacity .2s ease; display:flex; align-items:center; justify-content:center; user-select:none; -webkit-tap-highlight-color: transparent; touch-action: none; padding: 8px; box-sizing: border-box; }
.bomb.p1{ color: var(--accent); } .bomb.p2{ color: var(--blue); }
.bomb svg{ width: 100%; height: 100%; }
.bomb:active{ transform: scale(0.88); }
.pop{ position:absolute; font-weight:800; color:#111; pointer-events:none; opacity:0; transform: translate(-50%, -10px); animation: popfade 650ms ease forwards; text-shadow: 0 1px 0 rgba(255,255,255,0.6); }
.pop.plus2{ color:var(--accent); } .pop.plus3{ color:var(--blue); }
@keyframes popfade{ 0%{ opacity:0; transform: translate(-50%, 0) scale(0.9); } 15%{ opacity:1; transform: translate(-50%, -6px) scale(1.05); } 100%{ opacity:0; transform: translate(-50%, -28px) scale(1.0); } }
.modal{ position:fixed; inset:0; background:rgba(0,0,0,0.4); display:flex; align-items:center; justify-content:center; }
.modal.hidden{ display:none; }
.modal-content{ width: 600px;height: 300px;background:var(--card); color:var(--text); border-radius:20px; padding:24px; min-width: min(90vw, 480px); box-shadow:0 10px 30px rgba(0,0,0,0.15); text-align:center; }
.modal-content h2{ font-size: 40px;}
.modal-actions{ display:flex; gap:12px; justify-content:center; margin-top:12px; }

/* Адаптивность */
@media (max-width: 1024px) {
  .hud {
    width: 70px;
  }
  
  #board {
    left: 70px;
    right: 70px;
    flex-direction: row !important;
  }
  
  .hud .btn {
    max-height: 54px;
  }
}

@media (max-width: 768px) {
  .hud {
    width: 50px;
    padding: 12px 8px;
  }
  
  #board {
    left: 50px;
    right: 50px;
    flex-direction: row !important;
  }
  
  .turn-label, .points, .score {
    font-size: clamp(12px, 2vw, 16px);
  }
  
  .hud .btn {
    padding: 6px 10px;
    font-size: clamp(12px, 2vw, 16px);
    max-height: 34px;
  }
}
